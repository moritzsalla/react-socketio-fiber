{"ast":null,"code":"import _toConsumableArray from\"/Users/moritzsalla/Documents/GitHub/react-socketio-fiber/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/moritzsalla/Documents/GitHub/react-socketio-fiber/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/moritzsalla/Documents/GitHub/react-socketio-fiber/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/moritzsalla/Documents/GitHub/react-socketio-fiber/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/moritzsalla/Documents/GitHub/react-socketio-fiber/node_modules/@babel/runtime/helpers/esm/inherits\";import _taggedTemplateLiteral from\"/Users/moritzsalla/Documents/GitHub/react-socketio-fiber/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  margin: 1rem;\\n  font-family: sans-serif;\\n  font-size: 3rem;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  html, body {\\n    min-height: 100vh;\\n    min-width: 100vw;\\n    margin: 0;\\n    padding: 0;\\n  }\\n\\n  canvas {\\n      height: 100vh;\\n      width: 100vw;\\n      position: fixed:\\n      top: 0;\\n      left: 0;\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useEffect}from'react';import{Canvas,extend,useThree}from'react-three-fiber';import Particle from'./Particle';import styled,{createGlobalStyle}from'styled-components';import{OrbitControls}from'three/examples/jsm/controls/OrbitControls';extend({OrbitControls:OrbitControls});var GlobalStyle=createGlobalStyle(_templateObject());var HUD=styled.span(_templateObject2());var CameraController=function CameraController(){var _useThree=useThree(),camera=_useThree.camera,gl=_useThree.gl;useEffect(function(){var controls=new OrbitControls(camera,gl.domElement);controls.minDistance=3;controls.maxDistance=20;return function(){controls.dispose();};},[camera,gl]);return null;};var Scene=/*#__PURE__*/function(_React$Component){_inherits(Scene,_React$Component);var _super=_createSuper(Scene);function Scene(){var _this;_classCallCheck(this,Scene);_this=_super.call(this);_this.state={particles:0};return _this;}_createClass(Scene,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(props){this.setState({particles:props.users});}},{key:\"randCoord\",value:function randCoord(){var x=Math.random()*4-2;var y=Math.random()*4-2;var z=Math.random()*4-2;return[x,y,z];}},{key:\"randColor\",value:function randColor(){var r=Math.floor(Math.random()*255);var g=Math.floor(Math.random()*255);var b=Math.floor(Math.random()*255);return[r,g,b];}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(GlobalStyle,null),/*#__PURE__*/React.createElement(HUD,null,this.state.particles,\" Active Users\"),/*#__PURE__*/React.createElement(Canvas,{pixelRatio:window.devicePixelRatio?window.devicePixelRatio:1},/*#__PURE__*/React.createElement(CameraController,null),/*#__PURE__*/React.createElement(\"ambientLight\",null),/*#__PURE__*/React.createElement(\"pointLight\",{position:[10,10,10]}),_toConsumableArray(Array(this.state.particles)).map(function(e,i){return/*#__PURE__*/React.createElement(Particle,{key:i,position:_this2.randCoord(),color:_this2.randColor()});})));}}]);return Scene;}(React.Component);export default Scene;","map":{"version":3,"sources":["/Users/moritzsalla/Documents/GitHub/react-socketio-fiber/src/Scene.js"],"names":["React","useEffect","Canvas","extend","useThree","Particle","styled","createGlobalStyle","OrbitControls","GlobalStyle","HUD","span","CameraController","camera","gl","controls","domElement","minDistance","maxDistance","dispose","Scene","state","particles","props","setState","users","x","Math","random","y","z","r","floor","g","b","window","devicePixelRatio","Array","map","e","i","randCoord","randColor","Component"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { Canvas, extend, useThree } from 'react-three-fiber';\nimport Particle from './Particle';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\n\nextend({ OrbitControls });\n\nconst GlobalStyle = createGlobalStyle`\n  html, body {\n    min-height: 100vh;\n    min-width: 100vw;\n    margin: 0;\n    padding: 0;\n  }\n\n  canvas {\n      height: 100vh;\n      width: 100vw;\n      position: fixed:\n      top: 0;\n      left: 0;\n  }\n`;\n\nconst HUD = styled.span`\n  position: fixed;\n  top: 0;\n  left: 0;\n  margin: 1rem;\n  font-family: sans-serif;\n  font-size: 3rem;\n`;\n\nconst CameraController = () => {\n  const { camera, gl } = useThree();\n  useEffect(() => {\n    const controls = new OrbitControls(camera, gl.domElement);\n\n    controls.minDistance = 3;\n    controls.maxDistance = 20;\n\n    return () => {\n      controls.dispose();\n    };\n  }, [camera, gl]);\n  return null;\n};\n\nclass Scene extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      particles: 0,\n    };\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({ particles: props.users });\n  }\n\n  randCoord() {\n    let x = Math.random() * 4 - 2;\n    let y = Math.random() * 4 - 2;\n    let z = Math.random() * 4 - 2;\n    return [x, y, z];\n  }\n\n  randColor() {\n    let r = Math.floor(Math.random() * 255);\n    let g = Math.floor(Math.random() * 255);\n    let b = Math.floor(Math.random() * 255);\n    return [r, g, b];\n  }\n\n  render() {\n    return (\n      <>\n        <GlobalStyle />\n        <HUD>{this.state.particles} Active Users</HUD>\n\n        <Canvas\n          pixelRatio={window.devicePixelRatio ? window.devicePixelRatio : 1}\n        >\n          <CameraController />\n\n          <ambientLight />\n          <pointLight position={[10, 10, 10]} />\n\n          {[...Array(this.state.particles)].map((e, i) => (\n            <Particle\n              key={i}\n              position={this.randCoord()}\n              color={this.randColor()}\n            />\n          ))}\n        </Canvas>\n      </>\n    );\n  }\n}\n\nexport default Scene;\n"]},"metadata":{},"sourceType":"module"}